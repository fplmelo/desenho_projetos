{
  "hash": "e7bf923346d8e00defd33c0c68316f74",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Funções em R\"\nsubtitle: \"BO304\"\nauthor: \"Felipe Melo\"\ndate: \"last-modified\"\ndate-format: \"long\"\nformat:\n  html:\n    toc: true\n---\n\nTempo aproximado: 60 min\n\n## Objetivos de Aprendizagem\n\n- Descrever o que são funções em R.\n- Usar funções integradas do R.\n- Entender argumentos de funções.\n- Escrever funções simples em R.\n\n## O que são funções?\n\nUma característica fundamental do R é o uso extensivo de **funções**. Funções são blocos de código que executam uma tarefa específica. Elas permitem reutilizar código, tornando seus scripts mais curtos, claros e fáceis de manter.\n\nUma função:\n- Recebe **entradas** (argumentos)\n- Executa um conjunto de instruções\n- Retorna um **resultado**\n\n![função](../img/function.png)\n\n## Usando funções integradas\n\nO R vem com milhares de funções integradas. Você já utilizou várias delas, mesmo sem perceber.\n\nPor exemplo:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsqrt(16)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n\nA função `sqrt()` recebe o argumento `16` e retorna a raiz quadrada.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nround(3.14159, 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.14\n```\n\n\n:::\n:::\n\n\nAqui, `round()` recebe dois argumentos:\n- o número\n- o número de casas decimais\n\n## Argumentos de funções\n\nFunções podem ter **argumentos obrigatórios** e **opcionais**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlog(100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.60517\n```\n\n\n:::\n:::\n\n\nPor padrão, o logaritmo é calculado na base *e*. Podemos alterar isso:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlog(100, base = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\nTambém podemos especificar argumentos **nomeados** em qualquer ordem:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlog(base = 10, x = 100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\n## Obtendo ajuda sobre funções\n\nExistem várias formas de obter ajuda em R:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?log\n```\n:::\n\n\nou\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhelp(log)\n```\n:::\n\n\nTambém é possível usar:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nargs(log)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfunction (x, base = exp(1)) \nNULL\n```\n\n\n:::\n:::\n\n\nPara ver os argumentos aceitos por uma função.\n\n## Funções aplicadas a vetores\n\nMuitas funções em R são **vetorizadas**, ou seja, operam elemento a elemento em vetores.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumbers <- c(1, 4, 9, 16)\nsqrt(numbers)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4\n```\n\n\n:::\n:::\n\n\n## Escrevendo suas próprias funções\n\nVocê pode criar suas próprias funções usando a função `function()`.\n\nEstrutura básica:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnome_da_funcao <- function(argumentos) {\n  # código\n  return(resultado)\n}\n```\n:::\n\n\n### Exemplo simples\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsquare <- function(x) {\n  x^2\n}\n\nsquare(4)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 16\n```\n\n\n:::\n:::\n\n\n### Função com múltiplos argumentos\n\n\n::: {.cell}\n\n```{.r .cell-code}\npower <- function(base, exponent = 2) {\n  base^exponent\n}\n\npower(3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9\n```\n\n\n:::\n\n```{.r .cell-code}\npower(3, 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 27\n```\n\n\n:::\n:::\n\n\n## Escopo de funções\n\nVariáveis criadas dentro de uma função existem **apenas dentro dela**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntest_scope <- function() {\n  x <- 10\n  x\n}\n\ntest_scope()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 10\n```\n\n\n:::\n:::\n\n\n\n\nO segundo comando gera erro, pois `x` não existe fora da função.\n\n## Boas práticas ao escrever funções\n\n- Use nomes claros e descritivos\n- Documente com comentários\n- Faça uma função realizar **uma única tarefa**\n- Teste com diferentes entradas\n\n## Exercício\n\nCrie uma função chamada `mean_diff` que:\n- Receba dois vetores numéricos\n- Retorne a diferença entre suas médias\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean_diff <- function(x, y) {\n  mean(x) - mean(y)\n}\n\nmean_diff(c(1, 2, 3), c(4, 5, 6))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -3\n```\n\n\n:::\n:::\n\n\n---\n\n*Este material foi desenvolvido por membros da equipe de ensino do  \n[Harvard Chan Bioinformatics Core (HBC)](http://bioinformatics.sph.harvard.edu/).  \nLicença [Creative Commons Attribution 4.0](https://creativecommons.org/licenses/by/4.0/).*\n\n*Os materiais utilizados nesta lição são adaptados de trabalhos da  \n[Data Carpentry](http://datacarpentry.org/), também sob licença CC BY 4.0.*\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}